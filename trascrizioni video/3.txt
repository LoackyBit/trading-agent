Continuiamo lo sviluppo del nostro trading agent. Nella puntata precedente abbiamo visto come funziona Hyper Liquid, abbiamo imparato la differenza fra investimenti e leva e spot ed abbiamo iniziato a sistemare e organizzare i dati da utilizzare per il nostro agente I. In questa puntata entriamo quindi nel cuore dello sviluppo scrivendo le prime righe di codice Python per strutturare il nostro agente I. Prima di partire mi sono voluto confrontare con l'esercito di persone che siamo dentro all'Accademia ed ho effettuato una diretta di un'ora dove abbiamo toccato dei punti veramente interessanti che voglio presentarti in modo sintetizzato. Per prima cosa abbiamo discusso dei parametri utilizzati da Alpa Rena ed è emerso il pivot point. Tutti i parametri che utilizzano sono dei parametri che vanno a fare una ricerca di quello che è un dato passato, cioè 20 periodi fa una media ed è successo questo e c'è questo dato, 100 periodi fa c'è questa dato, sia se lo è se un MD piuttosto che gli altri indicatori non usano nessun tipo di pattern ricorrente individuato che ti permette di dire sta succedendo un qualcosa che è una qualcosa di analisi tecnica pura piuttosto che i punti pivot che chi fa trading sa che cosa significano e non vengono menzionati ma sono il vero ago della bilancia di qualsiasi operazione. Quindi quello che ho capito è che questi valori che vengono passati in input agli agenti di Alfa Arena sono valori passati, sono medie con varie finestre, ma non ti danno un'indicazione dell'andamento, ok? Di come si sta comportando, mentre utilizzando il pivot point, cos'è? Questo è un è un indicatore. Questa è la nostra funzione, ok? che sale, scende. Questa è un arancione. Poi abbiamo la linea questa qui in mezzo che è la PP che sarebbe tipo la media e se sta nella parte superiore allora abbiamo una specie di trend rialzista. se sta nella parte inferiore a un abbiamo un trend ribassista e quando questa funzione qua si avvicina ad uno di queste eh diciamo la parte superiore si chiamano resistenze mentre la parte sotto si chiamano supporti, quello che può succedere è che molto probabilmente rimbalzerà giù oppure può salire alla resistenza superiore dove potrebbe rimbalzare giù. Cioè, quindi vi sono dei dei pattern ricorrenti su queste su queste linee qua, quindi è interessante tenere in considerazione i pivot point e dire e dare l'agente, ad esempio, la distanza eh al supporto più vicino, cioè quanto siamo vicini da rimbalzare sul supporto oppure quanto siamo vicini dalla resistenza sopra. Dati che al momento non vengono passati su Alfa Arena. Un'altra cosa super interessante che non conoscevo che è emersa sono i volumi >> e il fatto che siano centralizzati ci permette di analizzare anche un'altra cosa, ovvero i volumi, perché noi possiamo vedere in questo caso i volumi su Hyperliquid, ma Hperliquid è una goccia in un oceano >> perché poi ci sono tutti gli altri exchange. Quindi quello è un altro aspetto che secondo me oltre alla price action pura andrebbe analizzato. Come anche nei mercati regolamentati si può fare, si può andare a vedere il cosiddetto orderbook >> e quindi ad esempio con questo servizio coinglass.com possiamo vedere tutti quelli che sono appunto gli ordini fatti dalle persone, perché tu prima di acquistare una una criptomoneta devi effettuare un ordine di acquisto e quindi analizzare tutti questi ordini di acquisto ti fa capire il volume, cioè se stanno più persone vendendo, più persone comprando. Ed è veramente un'informazione estremamente utile perché è l'unica informazione che ti aiuta a prevedere il futuro. Se vedi, ad esempio, che tutti stanno facendo degli ordini di acquisto, molto probabilmente se questi ordini questi ordini vengono chiusi, il prezzo si alzerà e così via al contrario con le vendite. Gli ordini sono importantissimi ed anche suerliquid puoi vedere l'order book, però vedi gli ordini solo di questa piattaforma che è, come ha detto una goccia in un oceano. Dobbiamo vedere gli ordini su tutte le varie piattaforme per farci un'idea realmente di come si sta spostando il mercato. E poi abbiamo parlato anche di balene, >> quindi le grosse e medie balene classici investitori fanno il il buono e cattivo tempo. Quindi noi l'unica cosa che possiamo consigliare a Simone è quella di cè c'è un sito dove riporta nell'immediato tutte le transazioni che avvengono su un determinato asset. Le balene in gergo sono degli investitori che spostano tantissimo capitale e il sito a cui faceva riferimento si chiama Whale Alert e praticamente qui ti notifica tutti gli spostamenti delle grosse balene, ad esempio 85 milioni di dollari, 114 Bitcoin che si sono spostati ed è ottimo avere queste notifiche perché quando si sposta una balena fa cambiare di molto il prezzo. E poi abbiamo affrontato largamente il tema delle news. >> Scusate, una domanda veloce. A proposito delle news, ma il mercato una quando appena esce una news dopo quanto viene influenzato mediamente? sconta le news prima che escano. >> Eh eh >> quindi in realtà l'opinione diffusa è che il mercato sta salendo aspettandosi già una determinata news. >> Riguardo le news quello che ho capito è che l'importanza è relativa. Nel mercato tradizionale sono molto più importanti e rappresentative, mentre nelle crypto sono meno importanti, ma comunque da considerare, tipo i tweet che fa Elon Musk e Donald Trump. Per me la diretta è stata fondamentale ed ho imparato veramente tanto. Qui ho messo il riassunto dei nuovi dati da dare impasso all'agente I. Abbiamo gli indicatori, questi qui tradizionali. Andiamo a tenere Mac GD, RSI, EMA20 e MA2 che sono, diciamo, i classici. Poi andremo ad aggiungere i pivot point, gli ordini, ok? che ti permette di prevedere un po' il futuro. Sulla parte di forecasting con Profit è piaciuta moltissimo e mi avete proposto anche di effettuare il forecast a più time frame, ok? Riguardo i volumi da vari exchange ci sta appunto coingrass.com, Whale Alert per avere informazioni sulle balene e poi altra cosa importante è il sentiment. Ci sta qui il link Coin Market Cap dove ci sta appunto qua l'indice del sentimento e ad esempio il valore 20 indica paura. Adesso vi è paura nel mercato perché molto probabilmente sta scendendo tutto e tutti stanno vendendo. Mi avete poi spiegato che cos'è il backtracking back testing dove praticamente noi abbiamo creato tutti questi dati da dargli in input, ma come identifichiamo quelli veramente utili e che ci danno un vantaggio nel futuro? Semplicemente dobbiamo fare back testing che consiste nel registrare tutti i valori eh che abbiamo nei nostri indici e poi andare a ritroso e vedere effettivamente quale ci aiutava a prevedere il futuro. Altra cosa interessante che è emersa è quella di costruire un modulo di gestione del capitale che filtra le operazioni dell'agente. Quindi possiamo settare quanto voglio espormi di capitale, ad esempio massimo il 5%. E questo ci serve per proteggerci da eventuali allucinazioni del modello che magari si sbaglia e quindi mettere questo modulo che filtra le operazioni eh diciamo bloccando quelle invalide. Questi quindi sono tutti i dati da prendere input. Ho messo qui il box quadrato per poterci mettere la spunta adesso che andiamo a scrivere il codice, ciascuno di questi dati qua. E poi mi avete dato un'intuizione molto molto importante, ovvero abbiamo tutti questi indici, perché non assegnargli, diciamo, un peso a ciascuno di importanza in modo tale che la gente hai poi si comporti di conseguenza. Ad esempio, io voglio dare un peso maggiore a profit 06, un peso più basso al sentimento, un peso più basso al WH alert, un peso magari più alto qua al pivot point per poter gestire la mia strategia. Oppure, mettiamo caso, non mi voglio basare molto su profit, metto un peso molto più alto sui volumi del 08 e quindi il modello, grazie a questi valori qua, questi pesi che tu gli assegni, darà più o meno importanza alle informazioni che riceverà in input e quindi si concentrerà magari più sul pivot point, se tu preferisci quella strategia ad analizzare i volumi oppure assegnando un peso uguale e omogeneo per tutti, utilizzerà tutte le informazioni. Questo è molto molto utile. Sono messo qua in modalità programmazione grazie all'agente ID Clean su Viso Studio Code utilizzando anche Cloud e il diciamo l'auto complete di Gemma. Ho scritto veramente in modo molto rapido tutto il codice che mi serviva e per fare appunto la parte di forecasting. Abbiamo qua il codice pronto per fare il forecasting. Ora lo lancio. L'ho generalizzato su questi ticker qua grazie all'aiuto di Cloud su BTC ETH BNB. Posso poi posso aggiungerne de altri. La prima cosa che fa è scarica i dati con vari time frame, dopo a destra i vari forecaster e possiamo vedere la tabella e il plot. Quindi, come prima cosa, vediamo il plot della prossima ora, però quella più precisa è la previsione del prossimo minuto. Infatti facendo lo zoom qua possiamo vedere con la stellina qui, questa è la previsione del prossimo minuto e ci dice 104.079, 79, mentre la il dato reale, il prezzo reale è questo qua, 104.298. Ok, quindi prezzo reale 104.000 dice che scenderà un po' da 104298 a 104079. Prevede che scenderà ancora di un poco. Ed abbiamo come risultato la tabella, ok? Del ticker. Per ogni ticker il time frame prossimo minuto, prossima ora. abbiamo l'ultimo prezzo e la previsione, appunto, del modello di machine learning. Questo è un dato importantissimo che adesso daremo al modello e lo faremo per tutti i ticker delle valute che vogliamo utilizzare. Quindi forecasting, questa è fatta, poi possiamo regolarci meglio con i time frame da utilizzare. Andiamo sulla parte di sentiment che è semplicissima perché praticamente da Coin Market Cap per avere questo indice qua basta cliccare su C API details e basta fare una richiesta get a questa a questo end point qua passandogli i parametri e otteniamo come risultato un JSON del genere dove ci indica appunto nella parte qua il value il valore e il value classification neutral paura eccetera eccetera. Quindi nel codice ho creato qui uno script che si chiama sentiment. Leggo appunto l'ap key perché serve l'Iyooi usare gratuitamente senza spendere nulla. L'epi URL. E adesso lanciando appunto sentiment.pamo ottenere il risultato del sentimento che è valore 27 classificazione fear. Quindi c'è un momento di paura nel mercato. Riguardo alle Whale Alert, sono andato a vedere le PI e praticamente costano un bel po', 699 al mese, un costo veramente alto per avere giusto questi questi alert e quindi per non pagare sto pensando di farmi uno scraper e andarmi a prendere queste informazioni qui aggiornate. Mi sono messo in modalità investigativa a fare reverse engineering della pagina web, a vedere tutte le richieste nel network che faceva, httpost, ed ho identificato una richiesta molto interessante fino a quando ho scoperto che questa richiesta, eccole qua che le ho prese tutte. Pertanto, senza nemmeno fare scraping, ho fatto reverse engineering, e ho capito che questa pagina web qua fa ogni tot secondi delle richieste httpg su questa URL qui, ok? Che ti risponde tornandoti questo JSON qua. In particolar modo, questo JSON qua ha un una chiave che si chiama alerts, infatti, facendo la stessa richiesta qua su Postman, possiamo vedere appunto facciamo Pritti. Ok, vabbè, uguale. E JSON, ecco qua. Alerts, ci sono tutti gli alerts. 104 104 140 milioni USDT trasferiti da A. Abbiamo qua tutti i risultati e questa cosa la possiamo chiamare quante volte vogliamo, quindi senza pagare le PI. Abbiamo reversato un po' la pagina front-end, abbiamo anche leverage by price, old, abbiamo delle news, abbiamo tante informazioni utili da utilizzare. Quindi una volta scritto lo script è veramente semplice, è una richiesta http a questa URL qua. Presi i risultati vengono parzati e mappati. Quindi, ad esempio, adesso lanciamo lo scriptalert.ponalert. E otteniamo come risultato, ecco qua, tutte le alert, alert, alert, alert col giorno, l'ora, il minuto, il secondo, l'importo, il valore, la descrizione e anche il link. Magari il link lo posso pure evitare. W alert, fatti. Andiamo a prenderci gli indicatori. Per gli indicatori ho sviluppato questo script che si chiama indicators.p dove praticamente qua puoi selezionare tutti i ticker che vuoi. Ok? Mettiamo caso. Facciamo EH fino a BNB per farti vedere un esempio. Lancio Pythonindicators.pà tutti i vari indicatori per ciascun tic. Quindi prima recupera i dati, fa i calcoli che deve fare ed ecco qua. Abbiamo ETH, prezzo attuale, MA20, MACD, RSI A7, open interest, Funding Rate, mid price, EMA, Mac R6, c'abbiamo tutto. Long term a 20 periodi a tre e questo per ognuna, per BNB e per BTC che sta qua sopra. Ok, BTC data. Quindi abbiamo fatto anche questo. Indicatori SACT. Fatto. News. Per le news ho sviluppato questo script qua che attinge le informazioni da questa URL qua/news/feed che ti ritorna le informazioni in un formato leggibile dalla macchina che è un eh tag XML e quindi lanciando questo script Python news news feed ci ritorna ecco in questo modo qua tutte le news. Ok. attuali perché 5:11 alle 2:29 ci mandano tutte le ultime news. Riguardo alle news mi voglio mantenere ancora molto leggero prima di costruire proprio tutto un modulo ad hoc che va a prendere da ex Twitter praticamente i tweet di determinate persone in questo settore anche in modo specifico per ogni ticker di criptovaluta. Pertanto le news sono fatte. Andiamo al Pivot Point. Pivot point è molto semplice, gli ho già dato lo script che utilizzavo per gli indicatori, gli ho gli ho detto aggiungimi il calcolo delle pivot point, mi ha creato questa funzione calcolate pivot points. Ok. E appunto lanciando lo script mi va a ritornare tutti i vari valori e vediamo qua ad esempio pivot points R2 R1 PP S1 S2 e abbiamo poi qua tutti i file JSON che ci crea, ok? per ogni T. Questo è Ethereum, BTC, BNB e possiamo vedere esattamente pivot points. Abbiamo tutti i valori dei pivot points che il modello può utilizzare per capire se il prezzo corrente si sta sta nella media oppure sta più vicino a eh R1, R2 o a quel di supporto. Pivot point fatto. Riguardo invece ai volumi, avevo detto Coin Glass, che è questa piattaforma qua. Praticamente qua ci sono tutti i volumi globali. Ok. registrati. Ma andando a vedere qua l'API, prima cosa non c'è modo di poter ottenere queste informazioni come abbiamo fatto su Wale Alert, cioè cercando di andare a vedere il traffico di rete per vedere quello che fanno, perché loro eh diciamo fanno lo streaming dei dati. Ok? Prima cosa, vedi qua che carica? Poi si sta collegando al websocket che poi streammano i dati e quindi è molto più complesso, sarebbe questa roba qua, sarebbe molto più complesso collegarmi e e riuscire a prendere questi dati anche perché li criptano. Quindi eh l'opzione sarebbe quella di pagare le PI che sono comunque care e andando a vedere le PI qua possiamo vedere cosa c'è, cosa non c'è. A me interessa no trading market orderbook. Qua mi interessa questa roba qua e ci sono varie opzioni. Paid order booking, coin, orderbook hitmap, large orderbook, large orderbook history e io non saprei adesso dirvi qual è il dato migliore da prendere. Ok? Quindi adesso per il volume io questo lo metto in pausa, non li prendo, aspetto voi che mi diate consigli se esiste anche un'altra piattaforma, altri P che costano meno o modo di prendere questi dati in modo gratuito. Ma comunque continuiamo perché adesso andiamo a testare, avendo tutti questi dati, il primo risultato che ci dà il nostro agente I. E quello che ci resta da fare adesso è unire tutte queste informazioni sotto forma di testo, in una stringa di testo ben formattata da utilizzare come promptente I, quindi prompto. E poi gli dobbiamo dare queste informazioni qua. Adesso eseguo il tutto. Queste cose qua verranno eseguite una ad una in modo sequenziale, quindi ci metterà un po' ad ottenere risultati, ma quando lo finirò di sviluppare parallelizzerò tutte queste chiamate qua in modo che sia più veloce, anche perché la rapidità è tutto quando poi andremo a fare appunto trading in quel time frame di 3 minuti. Qua vediamo ci sta dando i primi risultati e quando ha fatto ci printerà tutto. modo sequenziale sta prendendo un po' di tempo. Ecco qua. Questo è tutto il prompt, ok? Che va da qua sotto e news a ah qua sopra. Ok. Allora, per prima cosa ho strutturato un prompt di sistema del genere. Sei un cryptocurrency trading e hai basati su questo portfolio e i dati del mercato per prendere le decisioni. All'inizio il portfolio gli ho dato $10.000, ma sono virtuali, eh. Quindi $10.000, frozen cash zero, total asset vuoto, current position vuoto. Qua gli andiamo a mettere le context info, cioè le informazioni adesso che abbiamo scritto in Python e poi gli dico analyze the market and portfolio. Rispondi solo con un JSON object in questo esatto formato. Mi devi dare operazione, il simbolo, la direzione, target position, l'verage e il ragionamento della sua decisione. Regole. Gli spiego un po' le regole. Solo una posizione per coin sono ammesse, le operazioni devono essere aperte, chiuse, old e quindi gli do, diciamo, una linea guida di come deve operare. E adesso possiamo testare questo promptie Ai, su GPT5, sulle I Studio, quindi con i modelli di Gemini, su Deepsic, per vedere appunto le prime risposte di questi large language model con questo promptamo. Quindi Deepsic, gli do tutto il prompt. Provo anche Gemini Ultra 2.5 Pro c'ho l'account ultra. Provo anche Cloud Obus 4, anche qui c'ho l'abbonamento. E provo chat GPT5 dandogli il thinking massimo. E adesso questo qui, diciamo, è la parte più centrale per sviluppare l'agente I. Ok, qui vediamo la riflessione, quindi con tutti i dati che gli ho dato, cosa sta andando a guardare? Anche Gemini adesso sta ragionando, Cloud sta ragionando e anche c'ha GPT5. Questo è proprio lo stesso esperimento che ha fatto che hanno fatto su Alfa Arena. Ok? Quindi a ciascuno di questi modelli qua gli hanno fornito questo, adesso non me lo fa vedere, gli hanno fornito proprio quel prompt lì. Ok, l'ho riscritto un attimo meglio, gli ho dato più dati, però praticamente è un large language model, tu gli dai come input il prompt di sistema più le informazioni e poi ciascun modello ti darà una sua risposta. Ad esempio, deps vuole aprire una posizione su ETH long, mette 03 30% del balance, leva a tre, ragionamento ETH oversold with RSI 35,9 strong hourly forecast of 11,38% gain, price above pivote, support S1. Vedi che sta usando adesso il pivot? And fear sentiment indicate reversal. Andiamo a vedere Gemini. Anche Gemini vuole aprire su VTC, però direzione anziché eh long vuole shortare con 02 leverage 3 Reason. Lui c'è un altro ragionamento che dice l'analisi e time frame a 4 ore mostra un forte trend ribassista 20 sotto MA50um Mac dinasorimento. Le notizie confermano una pressione di vendita significativa da parte dei detentori a lungo termine. Vedete Gioni si sta basando anche sulle news. Il prezzo è sotto l'M20 staff faticando a mantenere il supporto S1 suggerendo che il recente rimbalzo dei livelli bla bla bla. Vediamo. Cloud ci dice operazione open su BTC long 023. Quindi Cloud diciamo è in linea con Deepsek che vuole aprire vuole aprire su su BTC. BTC de overold RSI. Vedi si basa su un'altra metrica. Bouncing su 100.000 support with potential short term reversal using moderate position sides and leverage due to overall beish sentiment. Ha visto pure il sentiment. Mentre Chat GPT ci dice open BTC long 023 VTC sitting near RS1 support with intraday RSI. Quindi abbiamo di uno vuole fare vuole aprire ETH. Poi abbiamo Gemini vuole aprire BTC, Cloud vuole aprire su BTC, solo che Gemini shorta, Cloud va long, chat GPT va long e poi c'era da provare anche Ken. Quindi hai visto come con lo stesso input ciascun modello guarda aspetti differenti ed ha una propria strategia differente che è proprio lo scopo appunto di questo esperimento qua e che abbiamo anche letto nel blog che i modelli hanno mostrato differenti eh comportamenti. Ok? Sta scritto su sta scritto qua insightes and patterns, ad esempio, è emerso che gli agenti differiscono su long mix overtime. Grock 4, GPT5, Gemini fanno più shorting più frequentemente rispetto a Cloud. Eh, ci sono modelli che holdano di più, tipo Grock 4 old di più. Trade frequency pure è una cosa importante. GM 2.5 Pro è il più attivo, fa più trade, dobbiamo stare attenti alle commissioni, mentre Grock 4 è quello che fa meno trade e poi ci sono risch exposure e altre informazioni. Quindi adesso noi con questo promptare proprio la l'agente sul codice che dato questo input ci fornisce sotto forma di JSON l'azione da compiere e l'azione dopo la eseguiamo proprio effettivamente su Hyper Liquid e quindi possiamo fare questa cosa. Chiamiamo tutte queste funzioni qua, otteniamo i dati e li mettiamo nel message info. Poi leggiamo dal file questo qui, Systemrompt.txt, txt il system prompt, appunto. Ok. Poi quello che andiamo a fare è concateniamo le cose con il format, andiamo a aggiungere il portfolio data e il Messegginfo concatenando e creando tutto il system prompt da passare all'agente I, quindi previsione trading agent. Io intanto qua lo lancio e previsione del trading agent cosa fa? Dipende dal modello che vogliamo usare. Ad esempio, qua ho messo GPT5 effort alto, gli passo il prompt in input ed ottengo la response output text. Quindi adesso quello che farà è esattamente creare tutto quel system prompt gigante che avevo io incollato manualmente dentro le varie piattaforme. Adesso lo eseguirò da codice e mi darà come output il JSON dell'azione che vuole compiere. Ok? poi da collegare Hyperliquid ed è semplicissimo, abbiamo già visto il codice per creare una posizione. Ecco qua il risultato ottenuto in JSON, facilmente utilizzabile dal codice per poter aprire e chiudere le posizioni. Open BTC Long Leva 3 ci dà la sua spiegazione e adesso possiamo collegarci ad Hyperliquid. Non metterò io subito del capitale mio, ma quello che andrò a fare è di utilizzare Hyperliquid Testnet, cioè è un modo per testare la gente senza utilizzare del capitale reale, ma in un ambiente controllato e simulato. Lato strategia possiamo andare a regolare di molto nel system promptia da utilizzare, come anche la leva. Io adesso l'ho impostato a tre, ma potrei dargli un rage molto più ampio di leve, da 1 2 3 fino ad esempio a 10, in modo tale che lui si senta più libero di di scegliere. E quindi vorrei un commento da parte tua dandomi dei consigli, che leva gli vogliamo far mettere, come vogliamo strutturare questa gente, se ti piace l'idea quella di mettere i pesi alle varie funzionalità. Ok, ancora adesso non li ho aggiunti, ma l'idea è proprio quella di assegnare qui un valore, un peso rispetto al segnale di input che diamo all'agente, in modo tale che ancora di più possiamo andare a regolare vari settaggi per vedere appunto qual è il miglior language model e con quali valori di pesi funziona meglio. Questo episodio termina qui. Nella prossima ne vedremo veramente delle belle. e scrivi un commento qui sotto dicendomi la tua, cosa ne pensi, che consigli mi puoi dare e seguimi come sempre per rimanere aggiornato sul mondo delle Ciao.